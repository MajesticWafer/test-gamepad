<!DOCTYPE html>
<html>
<head>
  <title>Gamepad Button Detection</title>
</head>
<body>
  <script>
    window.addEventListener("gamepadconnected", function(e) {
      console.log("Gamepad connected!");
    });

    window.addEventListener("gamepaddisconnected", function(e) {
      console.log("Gamepad disconnected!");
    });

    var previousState = false; // Flag to track previous state of the left stick button

    function checkGamepad() {
      var gamepads = navigator.getGamepads();
      var gamepad = gamepads[0]; // Assuming only one gamepad is connected

      var currentState = gamepad && gamepad.buttons[9].pressed; // Button10 is at index 9

      if (currentState && !previousState) {
        alert("Hello");
      }

      previousState = currentState;

      requestAnimationFrame(checkGamepad);
    }

    checkGamepad();
  </script>
</body>
</html>
